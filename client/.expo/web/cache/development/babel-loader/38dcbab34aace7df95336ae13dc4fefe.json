{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/user/Documents/elbrus/phase 3/RedditNativeChallenge/client/src/components/CreatePost/CreatePost.jsx\";\nimport React, { useState } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createPost } from \"../../redux/actions/content\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Multer from \"../Multer/Multer\";\nimport moment from \"moment\";\nexport default function CreateNewPost() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      image = _useState2[0],\n      setImage = _useState2[1];\n\n  var dispatch = useDispatch();\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n  var userId = user.userInfo.id;\n  var navigation = useNavigation();\n\n  var loadScene = function loadScene() {\n    navigation.navigate(\"MainPage\");\n  };\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      title = _useState4[0],\n      setTitle = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      description = _useState6[0],\n      setDescription = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      tags = _useState8[0],\n      setTags = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      url = _useState10[0],\n      setUrl = _useState10[1];\n\n  var submtForm = function submtForm() {\n    if (title.trim() && description.trim()) {\n      var allTags = tags.split(\"#\");\n      allTags.forEach(function (el, index) {\n        allTags[index] = allTags[index].trim().toLowerCase();\n      });\n      var post = {\n        author: userId,\n        title: title,\n        description: description,\n        content: url,\n        date: moment().endOf(\"day\").fromNow(),\n        tags: allTags,\n        uri: image.toString()\n      };\n      console.log(\"POST\", post);\n      setTitle(\"\");\n      setDescription(\"\");\n      setUrl(\"\");\n      setTags(\"\");\n      dispatch(createPost(post));\n      loadScene();\n    }\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    onChangeText: function onChangeText(text) {\n      return setTitle(text);\n    },\n    value: title,\n    style: styles.input,\n    placeholder: \"Title\",\n    placeholderTextColor: \"#cff1f9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    onChangeText: function onChangeText(text) {\n      return setDescription(text);\n    },\n    value: description,\n    style: styles.multilineInput,\n    multiline: true,\n    placeholder: \"Description\",\n    placeholderTextColor: \"#cff1f9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    onChangeText: function onChangeText(url) {\n      return setUrl(url);\n    },\n    value: url,\n    style: styles.multilineInput,\n    multiline: true,\n    placeholder: \"Url\",\n    placeholderTextColor: \"#cff1f9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), image && React.createElement(Image, {\n    source: {\n      uri: image\n    },\n    style: {\n      width: 200,\n      height: 200\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    onChangeText: function onChangeText(text) {\n      return setTags(text);\n    },\n    value: tags,\n    style: styles.input,\n    placeholder: \"Put some tags separated by ' # '\",\n    placeholderTextColor: \"#cff1f9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    onPress: submtForm,\n    style: styles.button,\n    title: \"Create Post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 13,\n    backgroundColor: \"#111827\"\n  },\n  input: {\n    fontSize: 15,\n    paddingBottom: 7,\n    width: 240,\n    height: 50,\n    borderStyle: \"solid\",\n    borderRadius: 7,\n    borderWidth: 2,\n    borderColor: \"#f9fafb\",\n    color: \"#f9fafb\",\n    backgroundColor: \"#1f2937\"\n  },\n  multilineInput: {\n    fontSize: 15,\n    height: 100,\n    width: 240,\n    margin: 15,\n    color: \"#f9fafb\",\n    borderStyle: \"solid\",\n    borderColor: \"#f9fafb\",\n    borderWidth: 2,\n    borderRadius: 5,\n    backgroundColor: \"#1f2937\"\n  },\n  button: {\n    margin: 15,\n    marginHorizontal: 4,\n    backgroundColor: \"#475569\",\n    borderWidth: 2,\n    borderRadius: 5,\n    borderStyle: \"solid\",\n    borderColor: \"#61dafb\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  text: {\n    color: \"#f9fafb\",\n    margin: 3,\n    fontSize: 20\n  }\n});","map":{"version":3,"sources":["/Users/user/Documents/elbrus/phase 3/RedditNativeChallenge/client/src/components/CreatePost/CreatePost.jsx"],"names":["React","useState","useSelector","useDispatch","createPost","useNavigation","Multer","moment","CreateNewPost","image","setImage","dispatch","user","state","userId","userInfo","id","navigation","loadScene","navigate","title","setTitle","description","setDescription","tags","setTags","url","setUrl","submtForm","trim","allTags","split","forEach","el","index","toLowerCase","post","author","content","date","endOf","fromNow","uri","toString","console","log","styles","container","text","input","multilineInput","width","height","button","StyleSheet","create","flex","alignItems","justifyContent","fontSize","backgroundColor","paddingBottom","borderStyle","borderRadius","borderWidth","borderColor","color","margin","marginHorizontal"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  SafeAreaView,\n  StyleSheet,\n  TextInput,\n  TouchableOpacity,\n  Text,\n  Button,\n  Image,\n} from \"react-native\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createPost } from \"../../redux/actions/content\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Multer from \"../Multer/Multer\";\nimport moment from \"moment\";\n\nexport default function CreateNewPost() {\n  const [image, setImage] = useState(null);\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.user);\n  const userId = user.userInfo.id;\n\n  const navigation = useNavigation();\n\n  const loadScene = () => {\n    navigation.navigate(\"MainPage\");\n  };\n\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n\n  const submtForm = () => {\n    if (title.trim() && description.trim()) {\n      const allTags = tags.split(\"#\");\n      allTags.forEach((el, index) => {\n        allTags[index] = allTags[index].trim().toLowerCase();\n      });\n      const post = {\n        author: userId,\n        title,\n        description,\n        content: url,\n        date: moment().endOf(\"day\").fromNow(),\n        tags: allTags,\n        uri: image.toString(),\n      };\n      console.log(\"POST\", post);\n      setTitle(\"\");\n      setDescription(\"\");\n      setUrl(\"\");\n      setTags(\"\");\n      dispatch(createPost(post));\n      loadScene();\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <TextInput\n        onChangeText={text => setTitle(text)}\n        value={title}\n        style={styles.input}\n        placeholder=\"Title\"\n        placeholderTextColor=\"#cff1f9\"\n      />\n      <TextInput\n        onChangeText={text => setDescription(text)}\n        value={description}\n        style={styles.multilineInput}\n        multiline={true}\n        placeholder=\"Description\"\n        placeholderTextColor=\"#cff1f9\"\n      />\n\n      <TextInput\n        onChangeText={url => setUrl(url)}\n        value={url}\n        style={styles.multilineInput}\n        multiline={true}\n        placeholder=\"Url\"\n        placeholderTextColor=\"#cff1f9\"\n      />\n      {image && (\n        <Image source={{ uri: image }} style={{ width: 200, height: 200 }} />\n      )}\n\n      <TextInput\n        onChangeText={text => setTags(text)}\n        value={tags}\n        style={styles.input}\n        placeholder=\"Put some tags separated by ' # '\"\n        placeholderTextColor=\"#cff1f9\"\n      />\n\n      <Button onPress={submtForm} style={styles.button} title=\"Create Post\" />\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 13,\n    backgroundColor: \"#111827\",\n  },\n\n  input: {\n    fontSize: 15,\n    paddingBottom: 7,\n    width: 240,\n    height: 50,\n    borderStyle: \"solid\",\n    borderRadius: 7,\n    borderWidth: 2,\n    borderColor: \"#f9fafb\",\n    color: \"#f9fafb\",\n    backgroundColor: \"#1f2937\",\n  },\n\n  multilineInput: {\n    fontSize: 15,\n    height: 100,\n    width: 240,\n    margin: 15,\n    color: \"#f9fafb\",\n    borderStyle: \"solid\",\n    borderColor: \"#f9fafb\",\n    borderWidth: 2,\n    borderRadius: 5,\n    backgroundColor: \"#1f2937\",\n  },\n\n  button: {\n    margin: 15,\n    marginHorizontal: 4,\n    backgroundColor: \"#475569\",\n    borderWidth: 2,\n    borderRadius: 5,\n    borderStyle: \"solid\",\n    borderColor: \"#61dafb\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  text: {\n    color: \"#f9fafb\",\n    margin: 3,\n    fontSize: 20,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}