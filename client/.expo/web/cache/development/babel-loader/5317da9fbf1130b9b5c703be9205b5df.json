{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { REMOVE_TOKEN, SET_TOKEN, SET_USER_INFO, REMOVE_USER_INFO } from \"../types/userTypes\";\nvar initialState = {\n  jwt: {\n    access: null,\n    refresh: null\n  },\n  userInfo: null\n};\nexport var userPersistConfig = {\n  key: \"user\",\n  storage: AsyncStorage,\n  serialize: function serialize(data) {\n    console.log(data);\n    return JSON.stringify(data);\n  }\n};\n\nvar userReducer = function userReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_TOKEN:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        jwt: _objectSpread(_objectSpread({}, state.jwt), {}, {\n          access: action.payload.accessToken,\n          refresh: action.payload.refreshToken\n        })\n      });\n\n    case REMOVE_TOKEN:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        jwt: _objectSpread(_objectSpread({}, state.jwt), {}, {\n          access: null,\n          refresh: null\n        })\n      });\n\n    case SET_USER_INFO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        userInfo: action.payload.userInfo\n      });\n\n    case REMOVE_USER_INFO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        userInfo: null\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;","map":{"version":3,"sources":["/home/artur/elbrus/phase-3/RedditNativeChallenge/client/src/redux/reduce/userReducer.js"],"names":["AsyncStorage","REMOVE_TOKEN","SET_TOKEN","SET_USER_INFO","REMOVE_USER_INFO","initialState","jwt","access","refresh","userInfo","userPersistConfig","key","storage","serialize","data","console","log","JSON","stringify","userReducer","state","action","type","payload","accessToken","refreshToken"],"mappings":";;;;;;AAAA,OAAOA,YAAP,MAAyB,2CAAzB;AAEA,SACEC,YADF,EAEEC,SAFF,EAGEC,aAHF,EAIEC,gBAJF;AAOA,IAAMC,YAAY,GAAG;AAAEC,EAAAA,GAAG,EAAE;AAAEC,IAAAA,MAAM,EAAE,IAAV;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAAP;AAAwCC,EAAAA,QAAQ,EAAE;AAAlD,CAArB;AACA,OAAO,IAAMC,iBAAiB,GAAG;AAC/BC,EAAAA,GAAG,EAAE,MAD0B;AAE/BC,EAAAA,OAAO,EAAEZ,YAFsB;AAG/Ba,EAAAA,SAAS,EAAE,mBAAAC,IAAI,EAAI;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,WAAOG,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAP;AACD;AAN8B,CAA1B;;AASP,IAAMK,WAAW,GAAG,SAAdA,WAAc,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBf,YAAyB;AAAA,MAAXgB,MAAW;;AACpD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKpB,SAAL;AACE,6CACKkB,KADL;AAEEd,QAAAA,GAAG,kCACEc,KAAK,CAACd,GADR;AAEDC,UAAAA,MAAM,EAAEc,MAAM,CAACE,OAAP,CAAeC,WAFtB;AAGDhB,UAAAA,OAAO,EAAEa,MAAM,CAACE,OAAP,CAAeE;AAHvB;AAFL;;AASF,SAAKxB,YAAL;AACE,6CAAYmB,KAAZ;AAAmBd,QAAAA,GAAG,kCAAOc,KAAK,CAACd,GAAb;AAAkBC,UAAAA,MAAM,EAAE,IAA1B;AAAgCC,UAAAA,OAAO,EAAE;AAAzC;AAAtB;;AAEF,SAAKL,aAAL;AACE,6CAAYiB,KAAZ;AAAmBX,QAAAA,QAAQ,EAAEY,MAAM,CAACE,OAAP,CAAed;AAA5C;;AAEF,SAAKL,gBAAL;AACE,6CAAYgB,KAAZ;AAAmBX,QAAAA,QAAQ,EAAE;AAA7B;;AAEF;AACE,aAAOW,KAAP;AArBJ;AAuBD,CAxBD;;AA0BA,eAAeD,WAAf","sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nimport {\n  REMOVE_TOKEN,\n  SET_TOKEN,\n  SET_USER_INFO,\n  REMOVE_USER_INFO,\n} from \"../types/userTypes\";\n\nconst initialState = { jwt: { access: null, refresh: null }, userInfo: null };\nexport const userPersistConfig = {\n  key: \"user\",\n  storage: AsyncStorage,\n  serialize: data => {\n    console.log(data);\n    return JSON.stringify(data);\n  },\n};\n\nconst userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_TOKEN:\n      return {\n        ...state,\n        jwt: {\n          ...state.jwt,\n          access: action.payload.accessToken,\n          refresh: action.payload.refreshToken,\n        },\n      };\n\n    case REMOVE_TOKEN:\n      return { ...state, jwt: { ...state.jwt, access: null, refresh: null } };\n\n    case SET_USER_INFO:\n      return { ...state, userInfo: action.payload.userInfo };\n\n    case REMOVE_USER_INFO:\n      return { ...state, userInfo: null };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n"]},"metadata":{},"sourceType":"module"}