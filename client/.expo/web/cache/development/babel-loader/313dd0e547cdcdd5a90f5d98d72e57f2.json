{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/user/Documents/elbrus/phase 3/RedditNativeChallenge/client/src/components/CreatePost/CreatePost.jsx\";\nimport React, { useState } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createPost } from \"../../redux/actions/content\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Multer from \"../Multer/Multer\";\nimport moment from \"moment\";\nexport default function CreateNewPost() {\n  var dispatch = useDispatch();\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n  var userId = user.userInfo.id;\n  var navigation = useNavigation();\n\n  var loadScene = function loadScene() {\n    navigation.navigate(\"MainPage\");\n  };\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      description = _useState4[0],\n      setDescription = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      tags = _useState6[0],\n      setTags = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      url = _useState8[0],\n      setUrl = _useState8[1];\n\n  var submtForm = function submtForm() {\n    if (title.trim() && description.trim()) {\n      var allTags = tags.split(\"#\");\n      allTags.forEach(function (el, index) {\n        allTags[index] = allTags[index].trim().toLowerCase();\n      });\n      var post = {\n        author: userId,\n        title: title,\n        description: description,\n        content: url,\n        date: moment().endOf(\"day\").fromNow(),\n        tags: allTags\n      };\n      console.log(\"POST\", post);\n      setTitle(\"\");\n      setDescription(\"\");\n      setUrl(\"\");\n      setTags(\"\");\n      dispatch(createPost(post));\n      loadScene();\n    }\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    onChangeText: function onChangeText(text) {\n      return setTitle(text);\n    },\n    value: title,\n    style: styles.input,\n    placeholder: \"Title\",\n    placeholderTextColor: \"#cff1f9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    onChangeText: function onChangeText(text) {\n      return setDescription(text);\n    },\n    value: description,\n    style: styles.multilineInput,\n    multiline: true,\n    placeholder: \"Description\",\n    placeholderTextColor: \"#cff1f9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    onChangeText: function onChangeText(url) {\n      return setUrl(url);\n    },\n    value: url,\n    style: styles.multilineInput,\n    multiline: true,\n    placeholder: \"Url\",\n    placeholderTextColor: \"#cff1f9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    onChangeText: function onChangeText(text) {\n      return setTags(text);\n    },\n    value: tags,\n    style: styles.input,\n    placeholder: \"Put some tags separated by ' # '\",\n    placeholderTextColor: \"#cff1f9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: submtForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Create Post\")), React.createElement(Multer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 13,\n    backgroundColor: \"#111827\"\n  },\n  input: {\n    fontSize: 15,\n    paddingBottom: 7,\n    width: 240,\n    height: 50,\n    borderStyle: \"solid\",\n    borderRadius: 7,\n    borderWidth: 2,\n    borderColor: \"#f9fafb\",\n    color: \"#f9fafb\",\n    backgroundColor: \"#1f2937\"\n  },\n  multilineInput: {\n    fontSize: 15,\n    height: 100,\n    width: 240,\n    margin: 15,\n    color: \"#f9fafb\",\n    borderStyle: \"solid\",\n    borderColor: \"#f9fafb\",\n    borderWidth: 2,\n    borderRadius: 5,\n    backgroundColor: \"#1f2937\"\n  },\n  button: {\n    margin: 15,\n    marginHorizontal: 4,\n    backgroundColor: \"#475569\",\n    borderWidth: 2,\n    borderRadius: 5,\n    borderStyle: \"solid\",\n    borderColor: \"#61dafb\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  text: {\n    color: \"#f9fafb\",\n    margin: 3,\n    fontSize: 20\n  }\n});","map":{"version":3,"sources":["/Users/user/Documents/elbrus/phase 3/RedditNativeChallenge/client/src/components/CreatePost/CreatePost.jsx"],"names":["React","useState","useSelector","useDispatch","createPost","useNavigation","Multer","moment","CreateNewPost","dispatch","user","state","userId","userInfo","id","navigation","loadScene","navigate","title","setTitle","description","setDescription","tags","setTags","url","setUrl","submtForm","trim","allTags","split","forEach","el","index","toLowerCase","post","author","content","date","endOf","fromNow","console","log","styles","container","text","input","multilineInput","button","StyleSheet","create","flex","alignItems","justifyContent","fontSize","backgroundColor","paddingBottom","width","height","borderStyle","borderRadius","borderWidth","borderColor","color","margin","marginHorizontal"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  SafeAreaView,\n  StyleSheet,\n  TextInput,\n  TouchableOpacity,\n  Text,\n} from \"react-native\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createPost } from \"../../redux/actions/content\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Multer from \"../Multer/Multer\";\nimport moment from \"moment\";\n\nexport default function CreateNewPost() {\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.user);\n  const userId = user.userInfo.id;\n\n  const navigation = useNavigation();\n\n  const loadScene = () => {\n    navigation.navigate(\"MainPage\");\n  };\n\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n\n  const submtForm = () => {\n    if (title.trim() && description.trim()) {\n      const allTags = tags.split(\"#\");\n      allTags.forEach((el, index) => {\n        allTags[index] = allTags[index].trim().toLowerCase();\n      });\n      const post = {\n        author: userId,\n        title,\n        description,\n        content: url,\n        date: moment().endOf(\"day\").fromNow(),\n        tags: allTags,\n      };\n      console.log(\"POST\", post);\n      setTitle(\"\");\n      setDescription(\"\");\n      setUrl(\"\");\n      setTags(\"\");\n      dispatch(createPost(post));\n      loadScene();\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <TextInput\n        onChangeText={text => setTitle(text)}\n        value={title}\n        style={styles.input}\n        placeholder=\"Title\"\n        placeholderTextColor=\"#cff1f9\"\n      />\n      <TextInput\n        onChangeText={text => setDescription(text)}\n        value={description}\n        style={styles.multilineInput}\n        multiline={true}\n        placeholder=\"Description\"\n        placeholderTextColor=\"#cff1f9\"\n      />\n\n      <TextInput\n        onChangeText={url => setUrl(url)}\n        value={url}\n        style={styles.multilineInput}\n        multiline={true}\n        placeholder=\"Url\"\n        placeholderTextColor=\"#cff1f9\"\n      />\n\n      <TextInput\n        onChangeText={text => setTags(text)}\n        value={tags}\n        style={styles.input}\n        placeholder=\"Put some tags separated by ' # '\"\n        placeholderTextColor=\"#cff1f9\"\n      />\n\n      <TouchableOpacity style={styles.button} onPress={submtForm}>\n        <Text style={styles.text}>Create Post</Text>\n      </TouchableOpacity>\n      <Multer />\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 13,\n    backgroundColor: \"#111827\",\n  },\n\n  input: {\n    fontSize: 15,\n    paddingBottom: 7,\n    width: 240,\n    height: 50,\n    borderStyle: \"solid\",\n    borderRadius: 7,\n    borderWidth: 2,\n    borderColor: \"#f9fafb\",\n    color: \"#f9fafb\",\n    backgroundColor: \"#1f2937\",\n  },\n\n  multilineInput: {\n    fontSize: 15,\n    height: 100,\n    width: 240,\n    margin: 15,\n    color: \"#f9fafb\",\n    borderStyle: \"solid\",\n    borderColor: \"#f9fafb\",\n    borderWidth: 2,\n    borderRadius: 5,\n    backgroundColor: \"#1f2937\",\n  },\n\n  button: {\n    margin: 15,\n    marginHorizontal: 4,\n    backgroundColor: \"#475569\",\n    borderWidth: 2,\n    borderRadius: 5,\n    borderStyle: \"solid\",\n    borderColor: \"#61dafb\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  text: {\n    color: \"#f9fafb\",\n    margin: 3,\n    fontSize: 20,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}