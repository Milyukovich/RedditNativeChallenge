{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { rootReducer } from \"./reduce/rootReducer\";\nimport thunk from \"redux-thunk\";\nimport getInitState from \"./initialState\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { AsyncStorage } from \"@react-native-async-storage/async-storage\";\nvar store = createStore(rootReducer, getInitState(), composeWithDevTools(applyMiddleware(thunk)));\n\nvar getUserInStorage = function getUserInStorage() {\n  return _regeneratorRuntime.async(function getUserInStorage$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"userInfo\").then(function (user) {\n            return console.log(\"USER IN ASTORAGE\", user);\n          }));\n\n        case 2:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar saveUserInStorage = function saveUserInStorage() {\n  return _regeneratorRuntime.async(function saveUserInStorage$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"userInfo\", store.getState()));\n\n        case 3:\n          _context2.next = 7;\n          break;\n\n        case 5:\n          _context2.prev = 5;\n          _context2.t0 = _context2[\"catch\"](0);\n\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n};\n\nstore.subscribe(function () {\n  saveUserInStorage();\n  console.log(\"in Subscribe\", store.getState());\n});\nconsole.log(999, AsyncStorage);\nexport default store;","map":{"version":3,"sources":["/home/artur/elbrus/phase-3/RedditNativeChallenge/client/src/redux/store.js"],"names":["rootReducer","thunk","getInitState","applyMiddleware","createStore","composeWithDevTools","AsyncStorage","store","getUserInStorage","getItem","then","user","console","log","saveUserInStorage","setItem","getState","subscribe"],"mappings":";AAAA,SAASA,WAAT;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,YAAP;AACA,SAASC,eAAT,EAA0BC,WAA1B,QAA6C,OAA7C;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,YAAT,QAA6B,2CAA7B;AAEA,IAAMC,KAAK,GAAGH,WAAW,CACvBJ,WADuB,EAEvBE,YAAY,EAFW,EAGvBG,mBAAmB,CAACF,eAAe,CAACF,KAAD,CAAhB,CAHI,CAAzB;;AAMA,IAAMO,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACjBF,YAAY,CAACG,OAAb,CAAqB,UAArB,EAAiCC,IAAjC,CAAsC,UAAAC,IAAI;AAAA,mBAC9CC,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,IAAhC,CAD8C;AAAA,WAA1C,CADiB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAzB;;AAIA,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEhBR,YAAY,CAACS,OAAb,CAAqB,UAArB,EAAiCR,KAAK,CAACS,QAAN,EAAjC,CAFgB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA1B;;AASAT,KAAK,CAACU,SAAN,CAAgB,YAAM;AACpBH,EAAAA,iBAAiB;AACjBF,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BN,KAAK,CAACS,QAAN,EAA5B;AAGD,CALD;AAQAJ,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBP,YAAjB;AACA,eAAeC,KAAf","sourcesContent":["import { rootReducer } from \"./reduce/rootReducer\";\nimport thunk from \"redux-thunk\";\nimport getInitState from \"./initialState\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { AsyncStorage } from \"@react-native-async-storage/async-storage\";\n\nconst store = createStore(\n  rootReducer,\n  getInitState(),\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nconst getUserInStorage = async () =>\n  await AsyncStorage.getItem(\"userInfo\").then(user =>\n    console.log(\"USER IN ASTORAGE\", user)\n  );\nconst saveUserInStorage = async () => {\n  try {\n    await AsyncStorage.setItem(\"userInfo\", store.getState());\n  } catch (error) {\n    // console.log(error);\n  }\n};\n\n// console.log(\"888\", getUserInStorage());\nstore.subscribe(() => {\n  saveUserInStorage();\n  console.log(\"in Subscribe\", store.getState());\n  \n  // window.localStorage.setItem(\"redux\", JSON.stringify(store.getState()));\n});\n\n// console.log(\"STORE\", store);\nconsole.log(999, AsyncStorage);\nexport default store;\n"]},"metadata":{},"sourceType":"module"}